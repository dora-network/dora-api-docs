{
    "openapi": "3.0.3",
    "info": {
        "title": "DORA",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "https://localhost:8084/v1",
            "description": "local DORA server"
        },
        {
            "url": "https://dora-polished-pond-6585.fly.dev/",
            "description": "DORA staging server"
        }
    ],
    "paths": {
        "/v1/assets": {
            "get": {
                "summary": "List assets",
                "operationId": "listAssets",
                "parameters": [
                    {
                        "name": "created_after",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "created_before",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "asset_kind",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        },
                        "description": "Asset kind (BOND, CURRENCY, INTEREST, POOL_SHARE)"
                    },
                    {
                        "name": "can_add_liquidity",
                        "in": "query",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "can_direct_borrow",
                        "in": "query",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "can_onboard",
                        "in": "query",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "can_trade",
                        "in": "query",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "can_virtual_borrow",
                        "in": "query",
                        "schema": {
                            "type": "boolean"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 100
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of assets",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Asset"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/assets/{id}": {
            "get": {
                "summary": "Get asset by ID",
                "operationId": "getAssetById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Asset details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Asset"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Asset not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/assets/{id}/coupons": {
            "get": {
                "summary": "Get coupons for a bond asset",
                "operationId": "getCouponsByAssetId",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "start",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "end",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 100
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of coupons",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/CouponResponse"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Asset not found or no coupons available",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/user/{user_id}": {
            "get": {
                "summary": "Get user by ID",
                "operationId": "getUserById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/User"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "summary": "Delete user by ID",
                "operationId": "deleteUser",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User deleted",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, only admin can delete users",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden, only admin can delete users",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/user/self": {
            "get": {
                "summary": "Get user details for the authenticated user",
                "operationId": "getUserSelf",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/User"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/user/{user_id}/config": {
            "put": {
                "summary": "Update user configuration by ID",
                "operationId": "updateUserConfig",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserConfigRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User configuration updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/CreateOrUpdateUserResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/user/config/self": {
            "put": {
                "summary": "Update user configuration for the authenticated user",
                "operationId": "updateUserConfigSelf",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UpdateUserConfigRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User configuration updated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/CreateOrUpdateUserResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/user/{user_id}/verify": {
            "put": {
                "summary": "Verify a user by ID",
                "operationId": "verifyUser",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User verified",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/CreateOrUpdateUserResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/user/{user_id}/orders/{orderbook_id}/stream": {
            "get": {
                "summary": "Get a snapshot of user's order updates for the given order book since a specific time, and opens a stream for further updates",
                "operationId": "getUserOrdersStream",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "orderbook_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "since",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User's orders stream",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Order"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this orderbook",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found or no orders available",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/user/{user_id}/orders/all/stream": {
            "get": {
                "summary": "Get a snapshot of user's order updates since a specific time, and opens a stream for further updates",
                "operationId": "getUserOrdersStream",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "since",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "orderbookIds",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "format": "uuid"
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User's orders stream",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Order"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this orderbook",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found or no orders available",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/user/{user_id}/ledger/stream": {
            "get": {
                "summary": "Get a snapshot of user's ledger updates since a specific time, and opens a stream for further updates",
                "operationId": "getUserLedgerStream",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "since",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User's ledger stream",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Position"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this ledger",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found or no ledger entries available",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/user/{user_id}/transactions/stream": {
            "get": {
                "summary": "Get a snapshot of user's executed transactions since a specific time, and opens a stream for further updates",
                "operationId": "getUserTransactionsStream",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "since",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User's transactions stream",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Transaction"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this transactions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found or no transactions available",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks": {
            "get": {
                "summary": "List order books",
                "operationId": "listOrderBooks",
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "OPEN",
                                "CLOSED",
                                "SUSPENDED"
                            ]
                        }
                    },
                    {
                        "name": "base_asset_id",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "quote_asset_id",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 100
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of orderbooks",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/OrderBook"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No orderbooks found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}": {
            "get": {
                "summary": "Get orderbook by ID",
                "operationId": "getOrderbookById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Orderbook details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/OrderBook"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/orders": {
            "get": {
                "summary": "Get all open orders for a specific orderbook (L3 market depth)",
                "operationId": "getL3Depth",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of orders for the orderbook",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Order"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this orderbook",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/depth": {
            "get": {
                "summary": "Get the aggregated price levels for a specific orderbook (L2 market depth)",
                "operationId": "getOrderbookDepth",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order book depth data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/OrderBookDepth"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/bbo": {
            "get": {
                "summary": "Get the top price levels for a specific orderbook (L1 market depth)",
                "operationId": "getOrderbookBBO",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Top price levels data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/OrderBookTop"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/top": {
            "get": {
                "summary": "Get the top price levels for a specific orderbook (L1 market depth)",
                "operationId": "getOrderbookTop",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Top price levels data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/OrderBookTop"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/L3": {
            "get": {
                "summary": "Get all open orders for a specific orderbook (L3 market depth)",
                "operationId": "getL3Depth",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of orders for the orderbook",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Order"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this orderbook",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/L2": {
            "get": {
                "summary": "Get the aggregated price levels for a specific orderbook (L2 market depth)",
                "operationId": "getOrderbookDepth",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order book depth data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/OrderBookDepth"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/L1": {
            "get": {
                "summary": "Get the top price levels for a specific orderbook (L1 market depth)",
                "operationId": "getOrderbookTop",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Top price levels data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/OrderBookTop"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/summary": {
            "get": {
                "summary": "Get summary of an orderbook",
                "operationId": "getOrderbookSummary",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Orderbook summary data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/OrderBookSummary"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/stream/open": {
            "get": {
                "summary": "Get a snapshot of open orders in an order book and open a stream for real-time updates",
                "operationId": "streamOrderbookOpenOrders",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "since",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Stream opened successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Order"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid order book ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orderbooks/{orderbook_id}/stream/balances": {
            "get": {
                "summary": "Get a snapshot of base and quote balances for an order book and open a stream for real-time updates",
                "operationId": "streamOrderBookBalances",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    },
                    {
                        "name": "since",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Stream opened successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/OrderbookBalance"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid order book ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orders": {
            "post": {
                "summary": "Create a new order",
                "operationId": "createOrder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateOrderRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Order created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/OrderId"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. missing required fields",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this orderbook",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "summary": "List all orders",
                "operationId": "listOrders",
                "parameters": [
                    {
                        "name": "orderbook_id",
                        "in": "query",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "format": "uuid"
                            }
                        }
                    },
                    {
                        "name": "kind",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "LIMIT",
                                "MARKET"
                            ]
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "OPEN",
                                "CLOSED",
                                "CANCELED"
                            ]
                        }
                    },
                    {
                        "name": "side",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "BUY",
                                "SELL"
                            ]
                        }
                    },
                    {
                        "name": "from",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "to",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 100
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A list of orders",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Order"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid query parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this orderbook",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No orders found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "summary": "Cancel all open orders",
                "operationId": "cancelAllOpenOrders",
                "responses": {
                    "200": {
                        "description": "All open orders have been cancelled",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "properties": {
                                                        "cancelled_order_ids": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this orderbook",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/orders/{order_id}": {
            "get": {
                "summary": "Get order by ID",
                "operationId": "getOrderById",
                "parameters": [
                    {
                        "name": "order_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Order details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Order"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid order ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this order",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "summary": "Cancel an order by ID",
                "operationId": "cancelOrderById",
                "parameters": [
                    {
                        "name": "order_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Order cancelled successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/OrderId"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid order ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, user not logged in or does not have access to this order",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/charts/candle/{orderbook}": {
            "get": {
                "summary": "Get candlestick data for an orderbook",
                "operationId": "getCandleData",
                "parameters": [
                    {
                        "name": "orderbook",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "start",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "end",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "resolution",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "1m",
                                "5m",
                                "15m",
                                "1h",
                                "4h",
                                "1d"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Candlestick data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Candle"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/charts/candle/stream/{orderbook}": {
            "get": {
                "summary": "Get a snapshot of candlestick data from date provided, and open a stream for real-time updates",
                "operationId": "streamCandleData",
                "parameters": [
                    {
                        "name": "since",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "resolution",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "1m",
                                "5m",
                                "15m",
                                "1h",
                                "4h",
                                "1d"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Stream opened successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Candle"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Orderbook not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/ledger/module": {
            "get": {
                "summary": "Get the entire module object, including unborrowed leverage assets and total leverage trackers",
                "operationId": "getLedgerModule",
                "responses": {
                    "200": {
                        "description": "Leverage module object",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "items": {
                                                        "$ref": "#/components/schemas/LeverageModuleResponse"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Module not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/ledger/module/{asset_id}": {
            "get": {
                "summary": "Get the module object for a single asset ID",
                "operationId": "getLedgerModuleByAsset",
                "parameters": [
                    {
                        "name": "asset_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Leverage module balance for asset",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/ModuleBalance"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid asset ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Asset not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/ledger/positions/self": {
            "get": {
                "summary": "Get your own positions",
                "operationId": "getLedgerPositionsSelf",
                "responses": {
                    "200": {
                        "description": "User positions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "object",
                                                    "$ref": "#/components/schemas/PositionResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid user ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/ledger/balances/self": {
            "get": {
                "summary": "Get your own available, locked, and borrowed assets",
                "operationId": "getLedgerBalancesSelf",
                "responses": {
                    "200": {
                        "description": "User balances",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/BalancesResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid user ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/ledger/value/self": {
            "get": {
                "summary": "Get your own available, locked, and borrowed USD value; and realized and unrealized PnL",
                "operationId": "getLedgerValueSelf",
                "responses": {
                    "200": {
                        "description": "User value",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/UserValueResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid user ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/ledger/interest/self": {
            "get": {
                "summary": "Get your own interest",
                "operationId": "getLedgerInterestSelf",
                "responses": {
                    "200": {
                        "description": "User interest",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/UserInterestResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid user ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/ledger/deposit": {
            "post": {
                "summary": "Deposit assets into your account from the outside world",
                "operationId": "ledgerDeposit",
                "description": "TODO: finish this when implementation has been completed",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FundUserRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Deposit successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/FundUserResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid parameters or insufficient funds",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/ledger/withdraw": {
            "post": {
                "summary": "Withdraw assets from your account to the outside world",
                "operationId": "ledgerWithdraw",
                "description": "TODO: Finish this when implementation has been completed",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/FundUserRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Withdraw successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/FundUserResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid parameters or insufficient funds",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/leverage/collateralize": {
            "post": {
                "summary": "Move supplied and available to supplied_collateral and collateral, for a specified position",
                "operationId": "leverageCollateralize",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CollateralizeRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Collateralize successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/CollateralizeResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient available or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/leverage/de-collateralize": {
            "post": {
                "summary": "Move collateral and supplied_collateral to available and supplied, for a specified position.",
                "operationId": "leverageDeCollateralize",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/DeCollateralizeRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Collateralize successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/DeCollateralizeResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient collateral or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/leverage/supply": {
            "post": {
                "summary": "Supply leverage for a specific asset",
                "operationId": "leverageSupply",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/SupplyRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Supply successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/SupplyResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient collateral or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/leverage/withdraw": {
            "post": {
                "summary": "Withdraw leverage for a specific asset",
                "operationId": "leverageWithdraw",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/WithdrawRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Withdraw successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/WithdrawResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient collateral or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/leverage/borrow": {
            "post": {
                "summary": "Directly borrow assets",
                "operationId": "leverageBorrow",
                "description": "TODO: Finish this when implementation has been completed",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Borrow successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "object"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient collateral or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/leverage/repay": {
            "post": {
                "summary": "Repay borrowed assets",
                "operationId": "leverageRepay",
                "description": "TODO: Finish this when implementation has been completed",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Repay successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "object"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient collateral or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/leverage/isolate_collateral": {
            "post": {
                "summary": "Create an isolated position by transferring collateral to the position from the user's global collateral",
                "operationId": "leverageIsolateCollateral",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/IsolateCollateralRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Leverage position isolated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/IsolateCollateralResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient collateral or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Leverage position not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/leverage/isolate_position": {
            "post": {
                "summary": "Create an isolated position using all collateral, supplied_collateral, and borrows from the user's global position",
                "operationId": "leverageIsolatePosition",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/IsolatePositionRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Leverage position isolated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/IsolatePositionResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient collateral or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Leverage position not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/leverage/unite": {
            "post": {
                "summary": "Combines all isolated positions into a single global position",
                "operationId": "leverageUnite",
                "description": "TODO: Finish this when implementation has been completed",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitePositionRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Leverage position combined",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/UnitePositionResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient collateral or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "error": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Leverage position not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "error": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/liquidity/pool/{pool_id}/add": {
            "post": {
                "summary": "Add liquidity to a pool",
                "operationId": "liquidityAdd",
                "parameters": [
                    {
                        "name": "pool_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LiquidityRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Liquidity added",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/LiquidityResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient funds or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pool not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/liquidity/pool/{pool_id}/subtract": {
            "post": {
                "summary": "Subtract liquidity from a pool",
                "operationId": "liquiditySubtract",
                "parameters": [
                    {
                        "name": "pool_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LiquidityRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Liquidity subtracted",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/LiquidityResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient funds or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized, e.g. user not logged in or invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pool not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/transactions": {
            "get": {
                "summary": "Get a filtered, paginated list of transactions",
                "operationId": "getTransactions",
                "parameters": [
                    {
                        "name": "pools",
                        "in": "query",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    {
                        "name": "user_ids",
                        "in": "query",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "format": "uuid"
                            }
                        }
                    },
                    {
                        "name": "tx_kinds",
                        "in": "query",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "ACCRUE_INTEREST",
                                    "ADD_LIQUIDITY",
                                    "BOND_MATURE",
                                    "CLAIM_INTEREST",
                                    "CREDIT",
                                    "DEBIT",
                                    "EXTERNAL_DEPOSIT",
                                    "EXTERNAL_WITHDRAW",
                                    "FILL",
                                    "LENDING_INTEREST_ACCRUAL",
                                    "LIQUIDATE",
                                    "MATCH_ORDER",
                                    "PAY_INTEREST",
                                    "SUBTRACT_LIQUIDITY",
                                    "REPAY",
                                    "SUPPLY",
                                    "WITHDRAW",
                                    "ISOLATE_COLLATERAL",
                                    "ISOLATE_POSITION",
                                    "UNITE_POSITION"
                                ]
                            }
                        }
                    },
                    {
                        "name": "start",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "end",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 100
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of transactions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/Transaction"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. insufficient funds or invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/transactions/{id}": {
            "get": {
                "summary": "Get a transaction by ID",
                "operationId": "getTransactionById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transaction details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/Transaction"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Transaction not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "error": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/trade": {
            "get": {
                "summary": "Get a filtered, paginated list of trades",
                "operationId": "getTrades",
                "parameters": [
                    {
                        "name": "pools",
                        "in": "query",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    {
                        "name": "user_ids",
                        "in": "query",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "format": "uuid"
                            }
                        }
                    },
                    {
                        "name": "start",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "end",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 100
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of trades",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/TradeResponse"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No trades found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "error": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/trade/{id}": {
            "get": {
                "summary": "Get a trade by ID",
                "operationId": "getTradeById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Trade details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/TradeResponse"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Trade not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "error": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/trade/stream": {
            "get": {
                "summary": "Get a snapshot of trades from a specific date and open a stream for real-time updates",
                "operationId": "streamTrades",
                "parameters": [
                    {
                        "name": "since",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    },
                    {
                        "name": "orderbookIds",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "format": "uuid"
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Real-time trade updates",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TradeResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/price": {
            "get": {
                "summary": "Get the current price of all assets",
                "operationId": "getAllAssetPrices",
                "responses": {
                    "200": {
                        "description": "Current prices of all assets",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/AssetPrice"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/price/asset/{asset_id}": {
            "get": {
                "summary": "Get the current price of an asset",
                "operationId": "getAssetPrice",
                "parameters": [
                    {
                        "name": "asset_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Current price of the asset",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/AssetPrice"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Asset not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "error": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/price/pool/{pool_id}": {
            "get": {
                "summary": "Get the current price of a pool",
                "operationId": "getPoolPrice",
                "parameters": [
                    {
                        "name": "pool_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Current price of the pool",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "$ref": "#/components/schemas/PoolPrice"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Pool not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "error": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/v1/price/stream": {
            "get": {
                "summary": "Get a snapshot of asset prices from a specific date and open a stream for real-time updates",
                "operationId": "streamAssetPrices",
                "parameters": [
                    {
                        "name": "since",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date-time"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Snapshot of asset prices updates since the specified date and opens a stream for real-time updates",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "allOf": [
                                        {
                                            "$ref": "#/components/schemas/ResponseEnvelope"
                                        },
                                        {
                                            "properties": {
                                                "data": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/AssetPrice"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request, e.g. invalid parameters",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ResponseEnvelope"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "Asset": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "collateral_weight": {
                        "type": "number"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "decimals": {
                        "type": "integer"
                    },
                    "description": {
                        "type": "string"
                    },
                    "liquidation_threshold": {
                        "type": "number"
                    },
                    "maturity_id": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": true
                    },
                    "max_supply": {
                        "type": "integer"
                    },
                    "max_utilization": {
                        "type": "integer"
                    },
                    "name": {
                        "type": "string"
                    },
                    "symbol": {
                        "type": "string"
                    },
                    "kind": {
                        "type": "string"
                    },
                    "yield": {
                        "type": "number"
                    },
                    "can_add_liquidity": {
                        "type": "boolean"
                    },
                    "can_direct_borrow": {
                        "type": "boolean"
                    },
                    "can_onboard": {
                        "type": "boolean"
                    },
                    "can_trade": {
                        "type": "boolean"
                    },
                    "can_virtual_borrow": {
                        "type": "boolean"
                    },
                    "bond": {
                        "$ref": "#/components/schemas/Bond",
                        "nullable": true
                    }
                }
            },
            "Bond": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "kind": {
                        "type": "string"
                    },
                    "coupon_start_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "final_coupon_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "isin": {
                        "type": "string"
                    },
                    "issued_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "issuer": {
                        "type": "string"
                    },
                    "maturity_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "payments_per_year": {
                        "type": "integer"
                    }
                }
            },
            "CouponResponse": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "coupon_start_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "is_maturity": {
                        "type": "boolean"
                    },
                    "issued_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "yield": {
                        "type": "number"
                    }
                }
            },
            "CreateAssetReq": {
                "type": "object",
                "properties": {
                    "collateral_weight": {
                        "type": "number"
                    },
                    "decimals": {
                        "type": "integer"
                    },
                    "description": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "max_supply": {
                        "type": "integer"
                    },
                    "max_utilization": {
                        "type": "integer"
                    },
                    "liquidation_threshold": {
                        "type": "number"
                    },
                    "symbol": {
                        "type": "string"
                    },
                    "kind": {
                        "type": "string"
                    },
                    "yield": {
                        "type": "number"
                    },
                    "capabilities": {
                        "type": "object",
                        "properties": {
                            "onboard": {
                                "type": "boolean"
                            },
                            "add_liquidity": {
                                "type": "boolean"
                            },
                            "direct_borrow": {
                                "type": "boolean"
                            },
                            "trade": {
                                "type": "boolean"
                            },
                            "virtual_borrow": {
                                "type": "boolean"
                            }
                        }
                    },
                    "bond": {
                        "$ref": "#/components/schemas/CreateBondReq",
                        "nullable": true
                    }
                }
            },
            "CreateBondReq": {
                "type": "object",
                "properties": {
                    "kind": {
                        "type": "string"
                    },
                    "coupon_start_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "final_coupon_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "isin": {
                        "type": "string"
                    },
                    "issued_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "issuer": {
                        "type": "string"
                    },
                    "maturity_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "payments_per_year": {
                        "type": "integer"
                    }
                }
            },
            "CreateCouponReq": {
                "type": "object",
                "properties": {
                    "coupon_start_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "is_maturity": {
                        "type": "boolean"
                    },
                    "issued_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "yield": {
                        "type": "number"
                    }
                }
            },
            "UpdateAssetReq": {
                "type": "object",
                "properties": {
                    "collateral_weight": {
                        "type": "number"
                    },
                    "decimals": {
                        "type": "integer"
                    },
                    "description": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "maturity_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "max_supply": {
                        "type": "integer"
                    },
                    "max_utilization": {
                        "type": "integer"
                    },
                    "liquidation_threshold": {
                        "type": "number"
                    },
                    "symbol": {
                        "type": "string"
                    },
                    "kind": {
                        "type": "string"
                    },
                    "yield": {
                        "type": "number"
                    },
                    "capabilities": {
                        "type": "object",
                        "properties": {
                            "onboard": {
                                "type": "boolean"
                            },
                            "add_liquidity": {
                                "type": "boolean"
                            },
                            "direct_borrow": {
                                "type": "boolean"
                            },
                            "trade": {
                                "type": "boolean"
                            },
                            "virtual_borrow": {
                                "type": "boolean"
                            }
                        }
                    },
                    "bond": {
                        "$ref": "#/components/schemas/UpdateBondReq",
                        "nullable": true
                    }
                }
            },
            "UpdateBondReq": {
                "type": "object",
                "properties": {
                    "kind": {
                        "type": "string"
                    },
                    "coupon_start_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "final_coupon_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "isin": {
                        "type": "string"
                    },
                    "issued_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "issuer": {
                        "type": "string"
                    },
                    "maturity_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "payments_per_year": {
                        "type": "integer"
                    }
                }
            },
            "User": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "closed_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "disabled_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                    },
                    "email": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "native_asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "photo_url": {
                        "type": "string"
                    },
                    "provider": {
                        "type": "string"
                    },
                    "provider_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "roles": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "timezone": {
                        "type": "string",
                        "description": "User's timezone, e.g., 'America/New_York', or an offset."
                    },
                    "timezone_offset": {
                        "type": "integer",
                        "description": "timezone offset in seconds"
                    }
                }
            },
            "CreateUserRequest": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "native_asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "photo_url": {
                        "type": "string"
                    },
                    "provider": {
                        "type": "string"
                    },
                    "provider_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "roles": {
                        "type": "string"
                    },
                    "timezone": {
                        "type": "string"
                    }
                },
                "required": [
                    "email",
                    "name",
                    "native_asset_id",
                    "roles"
                ]
            },
            "UpdateUserRequest": {
                "type": "object",
                "description": "Request body for PUT /user/{id} (admin-only): update a user's details.",
                "properties": {
                    "email": {
                        "$ref": "#/components/schemas/UpdateFieldString",
                        "description": "The user's email address, if any."
                    },
                    "name": {
                        "$ref": "#/components/schemas/UpdateFieldString",
                        "description": "The user's name, if any."
                    },
                    "native_asset_id": {
                        "$ref": "#/components/schemas/UpdateFieldUUID",
                        "description": "The native asset ID for the user, if any."
                    },
                    "photo_url": {
                        "$ref": "#/components/schemas/UpdateFieldString",
                        "description": "Optional: URL of the user's profile photo, optional."
                    },
                    "provider": {
                        "$ref": "#/components/schemas/UpdateFieldString",
                        "description": "Optional: The provider for the user, e.g., 'google', 'github', etc."
                    },
                    "provider_id": {
                        "$ref": "#/components/schemas/UpdateFieldUUID",
                        "description": "Optional: The provider-specific user ID."
                    },
                    "roles": {
                        "$ref": "#/components/schemas/UpdateFieldString",
                        "description": "Roles assigned to the user."
                    },
                    "timezone": {
                        "$ref": "#/components/schemas/UpdateFieldString",
                        "description": "User's timezone, e.g., 'America/New_York', or an offset."
                    },
                    "verified_at": {
                        "$ref": "#/components/schemas/UpdateFieldDateTime",
                        "description": "Optional: When the user was verified, if applicable."
                    }
                }
            },
            "UpdateUserConfigRequest": {
                "type": "object",
                "description": "Request body for PUT /user/{id}/config: update a user changeable details only. Other properties can only be changed by an admin following a manual request by the user.",
                "properties": {
                    "photo_url": {
                        "$ref": "#/components/schemas/UpdateFieldString",
                        "description": "Optional: URL of the user's profile photo, optional."
                    },
                    "timezone": {
                        "$ref": "#/components/schemas/UpdateFieldString",
                        "description": "User's timezone, e.g., 'America/New_York', or an offset."
                    }
                }
            },
            "CreateOrUpdateUserResponse": {
                "type": "object",
                "description": "Response body for POST /user or PUT /user/{id}: contains the ID of the created or updated user.",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "description": "The ID of the created or updated user."
                    }
                }
            },
            "UpdateFieldString": {
                "type": "object",
                "description": "A generic struct to handle optional updates for string fields in user requests.",
                "properties": {
                    "update": {
                        "type": "boolean",
                        "description": "Whether to update the field."
                    },
                    "value": {
                        "type": "string",
                        "description": "The new value to set for the field."
                    }
                }
            },
            "UpdateFieldUUID": {
                "type": "object",
                "description": "A generic struct to handle optional updates for UUID fields in user requests.",
                "properties": {
                    "update": {
                        "type": "boolean",
                        "description": "Whether to update the field."
                    },
                    "value": {
                        "type": "string",
                        "format": "uuid",
                        "description": "The new value to set for the field."
                    }
                }
            },
            "UpdateFieldDateTime": {
                "type": "object",
                "description": "A generic struct to handle optional updates for date-time fields in user requests.",
                "properties": {
                    "update": {
                        "type": "boolean",
                        "description": "Whether to update the field."
                    },
                    "value": {
                        "type": "string",
                        "format": "date-time",
                        "description": "The new value to set for the field."
                    }
                }
            },
            "OrderBook": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "order_book_seq": {
                        "type": "integer"
                    },
                    "accumulated_fees_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "base_quantity": {
                        "type": "number"
                    },
                    "base_asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "display_name": {
                        "type": "string"
                    },
                    "fee_factor": {
                        "type": "number"
                    },
                    "initial_assets_ratio": {
                        "type": "number"
                    },
                    "maturity_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "price_display_multiplier": {
                        "type": "number"
                    },
                    "quote_quantity": {
                        "type": "number"
                    },
                    "quote_asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "shares_quantity": {
                        "type": "number"
                    },
                    "status": {
                        "type": "string"
                    },
                    "tick_size": {
                        "type": "number"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "halted_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "terminated_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "pool_updated_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "pool_seq": {
                        "type": "integer"
                    },
                    "shares_asset_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            },
            "CreateOrderBookRequest": {
                "type": "object",
                "properties": {
                    "base_asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "display_name": {
                        "type": "string"
                    },
                    "fee_factor": {
                        "type": "number"
                    },
                    "initial_assets_ratio": {
                        "type": "number"
                    },
                    "maturity_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "price_display_multiplier": {
                        "type": "number"
                    },
                    "quote_asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "status": {
                        "type": "string"
                    },
                    "tick_size": {
                        "type": "number"
                    },
                    "base_quantity": {
                        "type": "number"
                    },
                    "quote_quantity": {
                        "type": "number"
                    },
                    "shares_asset_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            },
            "CreateOrderBookResponse": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            },
            "UpdateOrderBookRequest": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "display_name": {
                        "type": "string"
                    },
                    "fee_factor": {
                        "type": "number"
                    },
                    "initial_assets_ratio": {
                        "type": "number"
                    },
                    "price_display_multiplier": {
                        "type": "number"
                    },
                    "tick_size": {
                        "type": "number"
                    },
                    "base_quantity": {
                        "type": "number"
                    },
                    "quote_quantity": {
                        "type": "number"
                    }
                }
            },
            "UpdateOrderBookResponse": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            },
            "Order": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "kind": {
                        "type": "string"
                    },
                    "price": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "status": {
                        "type": "string"
                    },
                    "user_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "user_text": {
                        "type": "string",
                        "nullable": true
                    },
                    "order_modifiers": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            },
            "CreateOrderRequest": {
                "type": "object",
                "properties": {
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "inverse_leverage": {
                        "type": "number",
                        "nullable": true,
                        "description": "Required: Inverse leverage for the order, must be between 0 and 1 (inclusive)"
                    },
                    "price": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "kind": {
                        "type": "string",
                        "enum": [
                            "MARKET",
                            "LIMIT"
                        ]
                    },
                    "side": {
                        "type": "string",
                        "description": "Required: Must be either 'BUY' or 'SELL'"
                    },
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid",
                        "description": "Required: the order book to submit the order to"
                    },
                    "user_text": {
                        "type": "string",
                        "nullable": true,
                        "description": "Optional: User-defined text for the order, e.g., 'buying dips'"
                    },
                    "order_modifiers": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "enum": [
                                "MAX_BUY"
                            ]
                        }
                    }
                }
            },
            "OrderId": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            },
            "PositionResponse": {
                "type": "object",
                "properties": {
                    "portfolio": {
                        "type": "object",
                        "$ref": "#/components/schemas/Portfolio"
                    }
                }
            },
            "Portfolio": {
                "type": "object",
                "properties": {
                    "user_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "position": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "object",
                                "additionalProperties": {
                                    "$ref": "#/components/schemas/Position"
                                }
                            }
                        }
                    },
                    "net_stablecoin_equivalence": {
                        "type": "object",
                        "$ref": "#/components/schemas/TransformedAssets"
                    }
                }
            },
            "Position": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "The unique identifier for the position. Used, for example, when creating an order from a position, or deciding collateral should be transferred from position A to position B.",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "seq": {
                        "type": "integer"
                    },
                    "is_global": {
                        "type": "boolean"
                    },
                    "available": {
                        "type": "string",
                        "description": "The available balance in the position for this asset that are not locked, supplied, or used as collateral",
                        "format": "decimal"
                    },
                    "locked": {
                        "type": "string",
                        "description": "The balance that has been reserved for a current order. If spent by the order, they are removed. If the order is cancelled, they are returned to the position's available balance.",
                        "format": "decimal"
                    },
                    "supplied": {
                        "type": "string",
                        "description": "The balance that user has supplied to the leverage module. The user remains entitled to these assets and can withdraw them into their available balance.",
                        "format": "decimal"
                    },
                    "collateral": {
                        "type": "string",
                        "description": "The balance that has been locked or supplied, but are marked as collateral to support borrow limits and can be consumed in case of liquidation. When unmarked as collateral, the balance returns to the available balance.",
                        "format": "decimal"
                    },
                    "supplied_collateral": {
                        "type": "string",
                        "description": "The balance that have been supplied to the leverage module and marked as collateral. The user remains entitled to this balance and can withdraw it into the collateral balance, or unmark them as collateral and move them to the supplied balance.",
                        "format": "decimal"
                    },
                    "borrowed": {
                        "type": "string",
                        "description": "The total amount of debt outstanding for this position. The position's collateral + supplied_collateral must support a borrow limit sufficient to cover all borrowed assets. This position cannot be closed until all debt is fully repaid, i.e. borrowed = 0.",
                        "format": "decimal"
                    },
                    "impending_borrows": {
                        "type": "string",
                        "description": "The equivalent of locked balances, but for leveraged orders. If a user has an active order that would borrow assets as part of its input, then their borrow limit must be reduced until the order is executed or cancelled.",
                        "format": "decimal"
                    }
                }
            },
            "TransformedAssets": {
                "type": "object",
                "properties": {
                    "gained": {
                        "type": "object",
                        "description": "Assets that have been gained by stablecoin equivalence transformations. They cannot be withdrawn from the platform until converted back to the original asset.",
                        "additionalProperties": {
                            "type": "string",
                            "format": "decimal"
                        }
                    },
                    "lost": {
                        "type": "object",
                        "description": "Assets that have been lost by stablecoin equivalence transformations. They can be recovered by converting back any assets gained by stablecoin equivalence transformations.",
                        "additionalProperties": {
                            "type": "string",
                            "format": "decimal"
                        }
                    }
                }
            },
            "BalancesResponse": {
                "type": "object",
                "properties": {
                    "balances": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "$ref": "#/components/schemas/Position"
                        }
                    }
                }
            },
            "UserValueResponse": {
                "type": "object",
                "properties": {
                    "available": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "locked": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "borrowed": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "notional_long": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "notional_short": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "portfolio_value": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "net_liquidation_value": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "unrealized_pnl": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "realized_pnl": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    }
                }
            },
            "UserInterestResponse": {
                "type": "object",
                "properties": {
                    "available": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "integer"
                        }
                    },
                    "value": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "string"
                        }
                    }
                }
            },
            "LeverageModuleResponse": {
                "type": "object",
                "properties": {
                    "balances": {
                        "type": "object",
                        "description": "A map of asset IDs to their module balances",
                        "additionalProperties": {
                            "$ref": "#/components/schemas/ModuleBalance"
                        }
                    }
                }
            },
            "ModuleBalance": {
                "type": "object",
                "properties": {
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "seq": {
                        "type": "integer"
                    },
                    "available": {
                        "type": "string",
                        "description": "The available balance in the module for this asset",
                        "format": "decimal"
                    },
                    "supplied": {
                        "type": "string",
                        "description": "The total amount supplied to the module for this asset",
                        "format": "decimal"
                    },
                    "supplied_collateral": {
                        "type": "string",
                        "description": "The amount supplied as collateral from user balances in the module for this asset",
                        "format": "decimal"
                    },
                    "virtual": {
                        "type": "string",
                        "description": "Assets minted by virtual-borrowing, but not yet repaid",
                        "format": "decimal"
                    },
                    "borrowed": {
                        "type": "string",
                        "description": "The total amount borrowed from the supplied but not yet repaid",
                        "format": "decimal"
                    }
                }
            },
            "LeverageBalanceResponse": {
                "type": "object",
                "properties": {
                    "leverage_balance": {
                        "type": "object"
                    }
                }
            },
            "IsolateCollateralRequest": {
                "type": "object",
                "properties": {
                    "global_position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "IsolateCollateralResponse": {
                "type": "object",
                "properties": {
                    "global_position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "isolated_position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "transaction_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "IsolatePositionRequest": {
                "type": "object",
                "properties": {
                    "global_position_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            },
            "IsolatePositionResponse": {
                "type": "object",
                "properties": {
                    "global_position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "isolated_position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "transaction_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            },
            "UnitePositionRequest": {
                "type": "object",
                "properties": {
                    "global_position_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            },
            "UnitePositionResponse": {
                "type": "object",
                "properties": {
                    "global_position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "transaction_ids": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                }
            },
            "FundUserRequest": {
                "type": "object",
                "properties": {
                    "user_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "amount": {
                        "type": "string"
                    }
                }
            },
            "FundUserResponse": {
                "type": "object",
                "properties": {
                    "user_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "final_amount": {
                        "type": "string"
                    }
                }
            },
            "SupplyRequest": {
                "type": "object",
                "properties": {
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "SupplyResponse": {
                "type": "object",
                "properties": {
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "transaction_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "WithdrawRequest": {
                "type": "object",
                "properties": {
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "WithdrawResponse": {
                "type": "object",
                "properties": {
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "transaction_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "CollateralizeRequest": {
                "type": "object",
                "properties": {
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "CollateralizeResponse": {
                "type": "object",
                "properties": {
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "transaction_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "DeCollateralizeRequest": {
                "type": "object",
                "properties": {
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "DeCollateralizeResponse": {
                "type": "object",
                "properties": {
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "transaction_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "LiquidityRequest": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity": {
                        "type": "string"
                    }
                }
            },
            "LiquidityResponse": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "position_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "transaction_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "base_quantity": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "quote_quantity": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "shares_quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "Transaction": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "kind": {
                        "type": "string"
                    },
                    "asset0": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "quantity0": {
                        "type": "string"
                    },
                    "quantity1": {
                        "type": "string"
                    },
                    "asset1": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "user_id": {
                        "type": "string",
                        "format": "uuid"
                    }
                }
            },
            "ResponseEnvelope": {
                "type": "object",
                "properties": {
                    "data": {
                        "description": "The response data. Present for successful (2xx) responses.",
                        "type": "object"
                    },
                    "error": {
                        "type": "string",
                        "description": "The error message. Present for error (non-2xx) responses."
                    },
                    "metadata": {
                        "$ref": "#/components/schemas/Metadata",
                        "description": "Metadata about the response, including status code and trace information."
                    }
                },
                "description": "Standard response envelope. For 2xx responses, 'data' is set. For errors, 'error' is set."
            },
            "Metadata": {
                "type": "object",
                "properties": {
                    "status_code": {
                        "type": "integer",
                        "description": "HTTP status code for the response."
                    },
                    "trace_id": {
                        "type": "string",
                        "description": "Trace ID for distributed tracing."
                    },
                    "request_id": {
                        "type": "string",
                        "description": "Request ID for correlating logs and debugging."
                    }
                },
                "description": "Metadata about the response, including status code and tracing information."
            },
            "Candle": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "start_timestamp": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "open": {
                        "type": "number"
                    },
                    "high": {
                        "type": "number"
                    },
                    "low": {
                        "type": "number"
                    },
                    "close": {
                        "type": "number"
                    },
                    "volume": {
                        "type": "integer"
                    }
                }
            },
            "TradeResponse": {
                "type": "object"
            },
            "Trade": {
                "type": "object"
            },
            "AssetPrice": {
                "type": "object",
                "properties": {
                    "asset_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "price": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "timestamp": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "PoolPrice": {
                "type": "object",
                "properties": {
                    "pool_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "price": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "timestamp": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "OrderbookBalance": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "base_balance": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "quote_balance": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "PriceLevel": {
                "type": "object",
                "properties": {
                    "price": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "quantity": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            },
            "OrderBookDepth": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "bids": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PriceLevel"
                        }
                    },
                    "asks": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/PriceLevel"
                        }
                    },
                    "timestamp": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "OrderBookTop": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "best_bid": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "best_ask": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "timestamp": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "OrderBookSummary": {
                "type": "object",
                "properties": {
                    "order_book_id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "mid_price": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "spread": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "best_bid": {
                        "type": "string",
                        "format": "decimal"
                    },
                    "best_ask": {
                        "type": "string",
                        "format": "decimal"
                    }
                }
            }
        }
    }
}
